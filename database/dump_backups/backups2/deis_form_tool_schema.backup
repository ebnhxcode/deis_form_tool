--
-- PostgreSQL database dump
--

-- Dumped from database version 10.0
-- Dumped by pg_dump version 10.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: comuna; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE comuna (
    id_comuna character varying(255),
    id_region character varying(255),
    nombre_comuna character varying(255),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone
);


ALTER TABLE comuna OWNER TO postgres;

--
-- Name: establecimiento; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE establecimiento (
    id_establecimiento character varying(255),
    id_establecimiento_antiguo character varying(255),
    id_servicio character varying(255),
    id_region character varying(255),
    id_comuna character varying(255),
    nombre_establecimiento character varying(255),
    tipo_establecimiento character varying(255),
    vigencia_desde character varying(255),
    fecha_cierre character varying(255),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone
);


ALTER TABLE establecimiento OWNER TO postgres;

--
-- Name: form_deis; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE form_deis (
    id integer NOT NULL,
    nombres_madre character varying(255),
    primer_apellido_madre character varying(255),
    segundo_apellido_madre character varying(255),
    fecha_nacimiento_madre date,
    n_correlativo_interno text,
    id_region integer,
    id_servicio_salud integer,
    digito_verificador character varying(255),
    edad integer,
    nacionalidad character varying(255),
    pais_origen character varying(255),
    pueblos_indigenas character varying(255),
    estado_civil character varying(255),
    tipo_de_convivencia character varying(255),
    escolaridad character varying(255),
    anos_estudio integer,
    residencia_gestante character varying(255),
    nacidos_vivos_previos_embarazo integer,
    nacidos_muertos_previos_embarazo integer,
    abortos_previos_embarazo integer,
    sifilis_previa_embarazo character varying(255),
    ano_sifilis_previa_embarazo integer,
    otra_its_previa_embarazo character varying(255),
    vih_conocido_previa_embarazo character varying(255),
    fecha_confirmacion_isp_vih_responde_si date,
    adicciones character varying(255),
    fecha_ingreso_control_prenatal_embarazo date,
    embarazo_con_control_parental character varying(255),
    edad_gestacional_ingreso_control_embarazo integer,
    lugar_control_prenatal character varying(255),
    lugar_control_prenatal_otro character varying(255),
    codigo_establecimiento_control_prenatal_embarazo text,
    tipo_establecimiento_control_prenatal_embarazo character varying(255),
    fecha_1_vdrl_embarazo date,
    resultado_1_vdrl_embarazo character varying(255),
    resultado_dilucion_1_vdrl_embarazo character varying(255),
    eg_1_vdrl_embarazo character varying(255),
    fecha_2_vdrl_embarazo date,
    resultado_2_vdrl_embarazo character varying(255),
    resultado_dilucion_2_vdrl_embarazo character varying(255),
    eg_2_vdrl_embarazo integer,
    fecha_3_vdrl_embarazo date,
    resultado_3_vdrl_embarazo character varying(255),
    resultado_dilucion_3_vdrl_embarazo character varying(255),
    eg_3_vdrl_embarazo integer,
    fecha_examen_treponemico date,
    resultado_treponemico character varying(255),
    diagnostico_sifilis_embarazo character varying(255),
    tratamiento_sifilis_farmaco character varying(255),
    tratamiento_sifilis_dosis character varying(255),
    tratamiento_sifilis_frecuencia character varying(255),
    acepta_rechaza_toma_examen_vih character varying(255),
    fecha_1_examen_vih_embarazo date,
    resultado_1_examen_vih_embarazo character varying(255),
    eg_1_examen_vih integer,
    fecha_2_examen_vih_embarazo date,
    resultado_2_examen_vih_embarazo character varying(255),
    eg_2_examen_vih integer,
    fecha_resultado_final_isp_examen_vih date,
    fecha_resultado_final_isp_examen_vih_recien_nacido date,
    resultado_final_isp_examen_vih character varying(255),
    resultado_final_isp_examen_vih_recien_nacido character varying(255),
    derivada_a_especialidades_embarazo character varying(255),
    fecha_ingreso_unacess date,
    fecha_ingreso_control_unidad_alto_riesgo date,
    fecha_ingreso_control_centro_atencion_vih date,
    fecha_ingreso_control_otras_especialidades date,
    fecha_ingreso_control_otras_especialidades_otro character varying(255),
    terapia_antiretroviral_farmaco_1 character varying(255),
    fecha_inicio_tar_farmaco_1 date,
    terapia_antiretroviral_tar_farmaco_2 character varying(255),
    fecha_inicio_tar_farmaco_2 date,
    terapia_antiretroviral_tar_farmaco_3 character varying(255),
    fecha_inicio_tar_farmaco_3 date,
    numero_cd4_ingreso_control_prenatal integer,
    fecha_examen_linfocitos_cd4_ingreso_control_prenatal date,
    carga_viral_numero_copia_ingreso_control_prenatal integer,
    fecha_examen_carga_viral_control_prenatal date,
    numero_contactos_sexuales_declarados integer,
    numero_contactos_sexuales_estudiados integer,
    fecha_examen_carga_viral_semana_34 date,
    numero_contactos_sexuales_tratados integer,
    lugar_atencion_parto character varying(255),
    codigo_establecimiento integer,
    nombre_establecimiento_sin_codigo character varying(255),
    fecha_parto date,
    hora_parto time(0) without time zone,
    tipo_parto character varying(255),
    via_parto character varying(255),
    resultado_vdrl_parto character varying(255),
    resultado_dilucion_vdrl_parto character varying(255),
    resultado_examen_treponemico_parto character varying(255),
    tratamiento_sifilis_parto character varying(255),
    resultado_examen_vih_parto character varying(255),
    tratamiento_retroviral_parto character varying(255),
    peso_mujer_parto double precision,
    nombre_farmaco_1_vih character varying(255),
    dosis_farmaco_1_vih character varying(255),
    dosis_2_farmaco_1_vih character varying(255),
    fecha_inicio_farmaco_1_vih date,
    fecha_2_inicio_farmaco_1_vih date,
    hora_inicio_farmaco_1_vih time(0) without time zone,
    hora_2_inicio_farmaco_1_vih time(0) without time zone,
    nombre_farmaco_2_vih character varying(255),
    dosis_farmaco_2_vih character varying(255),
    fecha_inicio_farmaco_2_vih date,
    hora_inicio_farmaco_2_vih time(0) without time zone,
    nombre_farmaco_suspencion_lactancia character varying(255),
    fecha_administracion_farmaco_suspencion_lactancia date,
    estado_recien_nacido character varying(255),
    eg_pediatrica integer,
    sexo_recien_nacido character varying(255),
    peso_recien_nacido double precision,
    estado_clinico_recien_nacido character varying(255),
    run_recien_nacido text,
    fecha_nacimiento_recien_nacido date,
    hora_nacimiento_recien_nacido time(0) without time zone,
    digito_verificador_recien_nacido character varying(255),
    codigo_recien_nacido character varying(255),
    fecha_examen_vdrl_periferico_recien_nacido date,
    resultado_vdrl_periferico_recien_nacido character varying(255),
    titulacion_vdrl_periferico_recien_nacido character varying(255),
    resultado_vdrl_liq_cefalo_recien_nacido character varying(255),
    titulacion_vdrl_liq_cefalo_recien_nacido character varying(255),
    resultado_radiografia_huesos_largos character varying(255),
    resultado_citoquimico_liq_cefalo_raquideo character varying(255),
    resultado_estudio_placentario character varying(255),
    tratamiento_recien_nacido_farmaco character varying(255),
    tratamiento_recien_nacido_dosis character varying(255),
    tratamiento_recien_nacido_frecuencia integer,
    sustituto_leche_materna character varying(255),
    fecha_inicio_sustituto_leche_materna date,
    hora_inicio_sustituto_leche_materna time(0) without time zone,
    entrega_sustituto_leche_materna_al_alta character varying(255),
    nombre_farmaco_1_vih_recien_nacido character varying(255),
    dosis_farmaco_1_vih_recien_nacido character varying(255),
    fecha_inicio_farmaco_1_vih_recien_nacido date,
    hora_inicio_farmaco_1_vih_recien_nacido time(0) without time zone,
    nombre_farmaco_2_vih_recien_nacido character varying(255),
    dosis_farmaco_2_vih_recien_nacido character varying(255),
    fecha_inicio_farmaco_2_vih_recien_nacido date,
    hora_inicio_farmaco_2_vih_recien_nacido time(0) without time zone,
    fecha_1_examen_pcr_recien_nacido date,
    resultado_1_examen_pcr_recien_nacido character varying(255),
    fecha_2_examen_pcr_recien_nacido date,
    resultado_2_examen_pcr_recien_nacido character varying(255),
    fecha_3_examen_pcr_recien_nacido date,
    resultado_3_examen_pcr_recien_nacido character varying(255),
    diagnostico_final_vih_isp_recien_nacido character varying(255),
    fecha_test_elisa_18_meses date,
    resultado_test_elisa_18_meses character varying(255),
    fecha_examen_treponemico_recien_nacido date,
    derivacion_recien_nacido_a_seguimiento character varying(255),
    lugar_derivacion_recien_nacido_a_seguimiento character varying(255),
    fecha_ingreso_control_recien_nacido_post_nacimiento date,
    diagnostico_final_sifilis_recien_nacido character varying(255),
    estado_seguimiento_mes character varying(255),
    estado_seguimiento_3_meses character varying(255),
    estado_seguimiento_6_meses character varying(255),
    estado_seguimiento_12_meses character varying(255),
    estado_seguimiento_18_meses character varying(255),
    mujer_continua_tratamiento_antiretroviral character varying(255),
    fecha_ultima_regla_gestacional date,
    fecha_ultima_regla_operacional date,
    pareja_vih_positivo character varying(255),
    fecha_administracion_1_dosis_penicilina_gestante date,
    fecha_administracion_ult_dosis_penicilina_gestante date,
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone,
    run_madre text,
    numero_carga_viral_control_prenatal text,
    carga_viral_numero_copia_semana_34 text,
    prevision_madre text,
    estado_form_deis text,
    usuario_modifica_form_deis integer,
    fecha_examen_vdrl_liq_cefalo_recien_nacido date
);


ALTER TABLE form_deis OWNER TO postgres;

--
-- Name: form_deis_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE form_deis_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE form_deis_id_seq OWNER TO postgres;

--
-- Name: form_deis_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE form_deis_id_seq OWNED BY form_deis.id;


--
-- Name: form_deis_inputs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE form_deis_inputs (
    id_input integer NOT NULL,
    table_name character varying(255),
    type character varying(255),
    id character varying(255),
    name character varying(255),
    value character varying(255),
    max_length character varying(255),
    placeholder character varying(255),
    required character varying(255),
    class character varying(255),
    style character varying(255),
    bloque character varying(255),
    seccion character varying(255),
    class_custom character varying(255),
    label character varying(255),
    tag character varying(255),
    subtag character varying(255),
    empty_column character varying(255),
    "order" character varying(255),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone,
    order_layout_form text,
    readonly text,
    disabled text,
    min text,
    max text,
    pattern text
);


ALTER TABLE form_deis_inputs OWNER TO postgres;

--
-- Name: form_deis_inputs_id_input_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE form_deis_inputs_id_input_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE form_deis_inputs_id_input_seq OWNER TO postgres;

--
-- Name: form_deis_inputs_id_input_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE form_deis_inputs_id_input_seq OWNED BY form_deis_inputs.id_input;


--
-- Name: log_navigation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE log_navigation_id_seq
    START WITH 239
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE log_navigation_id_seq OWNER TO postgres;

--
-- Name: log_navigation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE log_navigation (
    id_log_navigation integer DEFAULT nextval('log_navigation_id_seq'::regclass) NOT NULL,
    user_id integer,
    cod_establecimiento integer,
    user_name text,
    user_email text,
    page_path text,
    ip text,
    created_at timestamp without time zone,
    updated_at timestamp without time zone
);


ALTER TABLE log_navigation OWNER TO postgres;

--
-- Name: migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE migrations (
    migration character varying(255) NOT NULL,
    batch integer NOT NULL
);


ALTER TABLE migrations OWNER TO postgres;

--
-- Name: pais; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE pais (
    id_pais character varying(255),
    nombre_pais character varying(255),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone
);


ALTER TABLE pais OWNER TO postgres;

--
-- Name: password_resets; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE password_resets (
    email character varying(255) NOT NULL,
    token character varying(255) NOT NULL,
    created_at timestamp(0) without time zone NOT NULL
);


ALTER TABLE password_resets OWNER TO postgres;

--
-- Name: region; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE region (
    id_region character varying(255),
    nombre_region character varying(255),
    alias character varying(255),
    orden character varying(255),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone
);


ALTER TABLE region OWNER TO postgres;

--
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE roles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE roles_id_seq OWNER TO postgres;

--
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE roles (
    id_role integer DEFAULT nextval('roles_id_seq'::regclass) NOT NULL,
    role text,
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone
);


ALTER TABLE roles OWNER TO postgres;

--
-- Name: servicio_salud; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE servicio_salud (
    id_servicio_salud character varying(255),
    id_region character varying(255),
    nombre_servicio_salud character varying(255),
    orden character varying(255),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone
);


ALTER TABLE servicio_salud OWNER TO postgres;

--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE users (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    last_name character varying(255),
    full_name character varying(255),
    "position" character varying(255),
    establecimiento character varying(255),
    rut character varying(255),
    email character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    created_by character varying(255),
    updated_by character varying(255),
    remember_token character varying(100),
    created_at timestamp(0) without time zone,
    updated_at timestamp(0) without time zone,
    confirmado_llave_secreta text,
    clave_electronica text,
    telefono text,
    id_role integer
);


ALTER TABLE users OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE users_id_seq OWNER TO postgres;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: form_deis id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_deis ALTER COLUMN id SET DEFAULT nextval('form_deis_id_seq'::regclass);


--
-- Name: form_deis_inputs id_input; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_deis_inputs ALTER COLUMN id_input SET DEFAULT nextval('form_deis_inputs_id_input_seq'::regclass);


--
-- Name: users id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Name: form_deis_inputs form_deis_inputs_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_deis_inputs
    ADD CONSTRAINT form_deis_inputs_pkey PRIMARY KEY (id_input);


--
-- Name: form_deis form_deis_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY form_deis
    ADD CONSTRAINT form_deis_pkey PRIMARY KEY (id);


--
-- Name: log_navigation log_navigations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY log_navigation
    ADD CONSTRAINT log_navigations_pkey PRIMARY KEY (id_log_navigation);


--
-- Name: users user_rut_ct; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY users
    ADD CONSTRAINT user_rut_ct UNIQUE (rut);


--
-- Name: users users_email_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_email_unique UNIQUE (email);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: password_resets_email_index; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX password_resets_email_index ON password_resets USING btree (email);


--
-- Name: password_resets_token_index; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX password_resets_token_index ON password_resets USING btree (token);


--
-- PostgreSQL database dump complete
--

